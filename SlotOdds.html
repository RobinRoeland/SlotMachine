<!DOCTYPE html>
<html>
    <head>
        <link rel="stylesheet" href="SlotMachine.css" />
        <link rel="stylesheet" href="SlotOdds.css" />
        <script type="text/javascript" src="sidebar.js"></script>
        <script type="text/javascript" src="SlotMachine.js"></script>
        <script type="text/javascript" src="SlotOdds.js" defer></script>
    </head>
    <body>
        <div class="page">
            <!-- Sidebar will be injected here by sidebar.js -->
            <div class="content">
                <div class="header">
                    <h1>Edit Odds</h1>
                </div>
                <div class="odds-editor">
                    <div class="settings-section">
                        <h2>Settings</h2>
                        <div class="setting-item">
                            <label for="rollerCount">Number of Rollers:</label>
                            <input type="number" id="rollerCount" min="1" max="10" value="4" />
                            <button id="saveRollerCount">Save</button>
                            <span id="rollerUnsaved" style="color:#f59e0b;font-weight:600;margin-left:10px;display:none;">⚠ Unsaved</span>
                        </div>
                        <div class="setting-item">
                            <label for="pityValue">Pity System Threshold:</label>
                            <input type="number" id="pityValue" min="1" max="1000" value="10" />
                            <span class="setting-description">Spins without a win</span>
                            <button id="savePityValue">Save</button>
                            <span id="pityUnsaved" style="color:#f59e0b;font-weight:600;margin-left:10px;display:none;">⚠ Unsaved</span>
                        </div>
                        <div id="pityDisabledNote" style="display:none;color:#ef4444;font-size:13px;font-style:italic;margin-top:5px;margin-left:10px;">
                            ⚠ Enable Pity System in Settings to use this feature
                        </div>
                    </div>
                    
                    <div class="odds-section">
                        <h2>Item Probabilities</h2>
                        <div id="oddsList" class="odds-list"></div>
                        <div class="odds-controls">
                            <button id="resetOdds">Reset to Equal</button>
                            <button id="saveOdds">Save Odds</button>
                            <span id="unsavedIndicator" style="color:#f59e0b;font-weight:600;display:none;">⚠ Unsaved changes</span>
                            <span id="oddsError" style="color:red"></span>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </body>
</html>
